﻿<style type="text/css">
     .card {
         width: 60%;
         margin-left: 20%;
         margin-top: 5%
     }
</style>

<div class="card">
    <div class="card-header">
        <h2>Create CDN User </h2>
    </div>
    <div class="card-body">

        <div class="row">
            
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Name</label>
                    <input class="form-control" id="txtname" />
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Email</label>
                    <input class="form-control" id="txtemail" />
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>
                        Phone Number
                    </label>
                    <input class="form-control" id="txtphone" />
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>
                        Skillset
                    </label>
                    <input class="form-control" id="txtskillset" />
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>
                        Hobby
                    </label>
                    <input class="form-control" id="txthobby" />
                </div>
            </div>
        </div>
    </div>
    <div class="card-footer">
        <a onClick="SaveCustomer()" class="btn btn-primary">Save</a>
        <a asp-controller="User" asp-action="Index" class="btn btn-danger">Back</a>
    </div>


</div>
<script src="~/lib/jquery/dist/jquery.min.js"></script>

<script type="text/javascript">

    var js = jQuery.noConflict(true);
    
    function SaveCustomer() 
    {

        var isproceed=true;

        var _name = $('#txtname');
        var _email = $('#txtemail');
        var _phone=$('#txtphone');
        var _skillset = $('#txtskillset');
        var _hobby = $('#txthobby');


        var __name = _name.val();
        var __email = _email.val();
        var __phone = _phone.val();
        var __skillset = _skillset.val();
        var __hobby = _hobby.val();

        if(isproceed)
        {
            // Your JavaScript object
            var _obj = {
                id: 0,
                userName: __name,
                mail: __email,
                phoneNumber: __phone,
                skillSet: __skillset,
                hobby: __hobby
            };

            // AJAX POST request
            $.ajax({
                url: 'https://localhost:7285/api/User/Post',//place with your API endpoint
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(_obj),
                success: function (data) {
                    console.log('POST successful:', data);
                    alert('Saved Successfully.');

                },
                error: function (error) {
                    console.log('Error:');
                }
            });           
        }
    }
</script>